# Iceberg runtime + AWS bundle
spark.jars.packages org.apache.iceberg:iceberg-spark-runtime-3.5_2.12:1.10.0,org.apache.iceberg:iceberg-aws-bundle:1.10.0

# Enable Iceberg SQL extensions
spark.sql.extensions org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions

# REST catalog named "iceberg"
spark.sql.catalog.iceberg org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.iceberg.type rest
spark.sql.catalog.iceberg.uri http://iceberg-rest:8181
spark.sql.catalog.iceberg.warehouse s3://warehouse/

# Use AWS S3FileIO against MinIO
spark.sql.catalog.iceberg.io-impl org.apache.iceberg.aws.s3.S3FileIO
spark.sql.catalog.iceberg.s3.endpoint http://minio:9000
spark.sql.catalog.iceberg.s3.path-style-access true
spark.sql.catalog.iceberg.s3.region us-east-1

# Make this the default catalog so you can use "db.table" directly
spark.sql.defaultCatalog iceberg

# (Optional) slightly safer network timeout, *no* "s" suffix
spark.network.timeout 600
